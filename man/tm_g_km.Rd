% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tm_g_km.R
\name{tm_g_km}
\alias{tm_g_km}
\title{teal module for Kaplan-Meier Plot from grid}
\usage{
tm_g_km(label, dataname, arm_var = "ARM", arm_var_choices = arm_var,
  arm_ref_comp = NULL, paramcd = "OS", paramcd_choices = paramcd,
  facet_var = NULL, facet_var_choices = facet_var, strata_var = NULL,
  strata_var_choices = strata_var, plot_height = c(1200, 400, 5000),
  pre_output = helpText("x-axes for different factes may not have the same scale"),
  post_output = NULL, code_data_processing = NULL)
}
\arguments{
\item{label}{menue item label of the module in the teal app}

\item{dataname}{analysis data used in teal module, needs to be available in
the list passed to the \code{data} argument of \code{\link[teal]{init}}.
Note that the data is expected to be in vertical form with the
\code{PARAMCD} variable filtering to one observation per patient.}

\item{arm_var}{single name of variable in analysis data that is used as
\code{col_by} argument for the respective \code{tern} function.}

\item{arm_var_choices}{vector with variable names that can be used as
\code{arm_var}}

\item{arm_ref_comp}{optional, if specified it must be a named list with each
element corresponding to an arm variable in \code{ASL} and the element must
be another list with the elements named \code{ref} and \code{comp} that the
defined the default reference and comparison arms when the arm variable is
changed.}

\item{paramcd}{selected endpoint from ADaM variable \code{PARAMCD}}

\item{paramcd_choices}{options for \code{endpoint}}

\item{facet_var}{parameter for facet plotting}

\item{facet_var_choices}{options for \code{facet_var}}

\item{strata_var}{parameter for stratification analysis in Cox PH model}

\item{strata_var_choices}{options for \code{strata_var}}

\item{plot_height}{plot height specification}

\item{pre_output}{optional, \code{shiny.tag} with text placed before the
output to put the output into context. For example the
\code{\link[shiny]{helpText}} elements are useful.}

\item{post_output}{optional, \code{shiny.tag} with text placed before the
output to put the output into context. For example the
\code{\link[shiny]{helpText}} elements are useful.}

\item{code_data_processing}{string with data preprocessing before the teal
app is initialized}
}
\description{
This is teal module produces a grid style KM plot for data with ADaM structure
}
\examples{

\dontrun{

library(random.cdisc.data)

ASL <- radam('ASL', start_with = list(
  ITTFL = 'Y',
  SEX = c("M", "F"),
  MLIVER = paste("mliver", 1:3),
  ARM = paste("ARM", LETTERS[1:3])
))


ATE <- radam('ATE', ADSL = ASL)

arm_ref_comp = list(
   ARM = list(
      ref = "ARM A",
      comp = c("ARM B", "ARM C")
   ),
   ARMCD = list(
      ref = "ARM B",
      comp = "ARM A"
   )
)

## Initialize Teal
x <- teal::init(
  data = list(ASL = ASL, ATE = ATE),
  modules = root_modules(
    tm_g_km(
       label = "KM PLOT",
       dataname = 'ATE',
       arm_var_choices = c("ARM", "ARMCD"),
       arm_ref_comp = arm_ref_comp,
       paramcd_choices = c("OS", "PFS"),
       facet_var = "MLIVER",
       facet_var_choices = c("SEX", "MLIVER"),
       strata_var = "SEX",
       strata_var_choices = c("SEX", "MLIVER")
    )  
  )
)
## Initiate Shiny App
shinyApp(ui = x$ui, server = x$server)

}
}
\author{
Heng Wang (wangh107) \email{wang.heng@gene.com}
}
